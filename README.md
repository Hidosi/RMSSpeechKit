# Голосовой Распознаватель RMS

Приложение на Python для потокового распознавания речи с использованием RMS-детекции активности голоса и API Яндекс SpeechKit.

## Описание

Это приложение захватывает системный звук или микрофон, определяет наличие речи по уровню RMS и отправляет аудио в потоковом режиме в API распознавания речи Яндекс SpeechKit. Результаты распознавания отображаются в графическом интерфейсе на PyQt5.

## Возможности

- Захват аудио с помощью `sounddevice` или внешнего процесса `parec`
- Детекция речи по порогу RMS для экономии трафика и ресурсов
- Потоковое распознавание с отображением промежуточных (partial), окончательных (final) и нормализованных (final refinement) результатов
- Отправка пустых аудиочанков при тишине для корректного завершения распознавания
- Отображение примерной стоимости использования сервиса в реальном времени

## Требования

- Python 3.7+
- PyQt5
- sounddevice
- numpy
- grpcio
- protobuf
- yandex-cloud-sdk

## Установка

```bash
pip install PyQt5 sounddevice numpy grpcio protobuf yandex-cloud-sdk
```

## Запуск

```python
python main.py --token <ваш_токен_Яндекс_Облака> [--device <индекс_устройства>] [--manual-audio]
```
--token — обязательный параметр, API-ключ Яндекс Облака

--device — индекс аудиоустройства для захвата (если не указан, пытается найти loopback устройство)

--manual-audio — использовать внешний процесс parec для захвата аудио (Linux)


### Как получить API ключ для Яндекс SpeechKit

Зарегистрируйтесь или войдите в Яндекс.Облако.
Создайте новый каталог (проект) в консоли управления.
В разделе "Управление доступом" создайте сервисный аккаунт.
Создайте ключ API для сервисного аккаунта.
Включите API SpeechKit в настройках каталога.
Используйте полученный API-ключ (Api-Key) при запуске приложения.

#### Подробная инструкция доступна в официальной документации Яндекс SpeechKit:

https://cloud.yandex.ru/docs/speechkit/quickstart

## Использование
Программа автоматически определяет речь по уровню RMS и отправляет аудио на распознавание
При длительной тишине отправляется пустой аудиочанк для завершения распознавания
Результаты отображаются в трёх полях: промежуточные, окончательные и нормализованные
Внизу отображается примерная стоимость использования сервиса


## Лицензия

MIT